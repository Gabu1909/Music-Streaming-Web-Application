import{_ as P,u as b,x as h,c as n,a,h as N,g as t,t as w,f as d,y as x,o as i}from"./index-CJw3wfj_.js";import{u as S,P as T}from"./PlaylistCard-BI26ZhvQ.js";import{_ as B}from"./TrackList-LyJ0AD-6.js";/* empty css                                                                     */const D={class:"playlist-detail"},q={key:0,class:"loading-state"},C={key:1,class:"error-state"},E={key:2,class:"playlist-content"},F={class:"playlist-info"},Q={key:0,class:"songs-section"},V={key:1,class:"no-songs"},$={key:3,class:"no-playlist"},I={__name:"PlaylistDetail",setup(L){const u=h(),y=x(),e=b(),g=u.params.id,{playlist:l,isLoading:p,error:r,refetch:c}=S(g),f=async()=>{const o=l.value?.songs||[];if(o.length!==0)try{const s=o[0];e.isPlaying&&e.currentTrack?.id===s.id?await e.togglePlay():await e.playSong(s,o)}catch(s){console.error("Failed to play playlist:",s)}},_=async o=>{try{const s=l.value?.songs||[];o&&s.length?e.isPlaying&&e.currentTrack?.id===o.song_id?await e.togglePlay():await e.playSong(o,s):r.value="No song available to play."}catch(s){r.value="Failed to play song.",console.error("Error playing song:",s)}},k=async o=>{try{o?await e.addToQueue(o):r.value="No song to add to queue."}catch(s){r.value="Failed to add song to queue.",console.error("Error adding to queue:",s)}},m=()=>{y.back()};return(o,s)=>(i(),n("div",D,[a("div",{class:"detail-header"},[a("button",{class:"back-btn",onClick:m},s[1]||(s[1]=[a("i",{class:"fas fa-arrow-left"},null,-1),N(" Back ")])),s[2]||(s[2]=a("h1",{class:"detail-title"},"Playlist Details",-1))]),t(p)?(i(),n("div",q,s[3]||(s[3]=[a("div",{class:"spinner"},null,-1),a("p",null,"Loading playlist...",-1)]))):t(r)?(i(),n("div",C,[s[4]||(s[4]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("p",null,w(t(r).message),1),a("button",{onClick:s[0]||(s[0]=(...v)=>t(c)&&t(c)(...v)),class:"retry-btn"},"Try Again")])):t(l)?(i(),n("div",E,[a("div",F,[d(T,{id:t(l).playlist_id,title:t(l).name,image:t(l).image,description:`${t(l).song_count} song${t(l).song_count!==1?"s":""}`,onPlay:f},null,8,["id","title","image","description"])]),t(l).songs?.length?(i(),n("section",Q,[s[5]||(s[5]=a("h3",{class:"section-title"},"Songs",-1)),d(B,{tracks:t(l).songs,onPlay:_,onQueue:k},null,8,["tracks"])])):(i(),n("p",V,"No songs in this playlist."))])):(i(),n("div",$,s[6]||(s[6]=[a("p",null,"No playlist found.",-1)])))]))}},G=P(I,[["__scopeId","data-v-48a24727"]]);export{G as default};
