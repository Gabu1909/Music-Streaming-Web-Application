import{_ as P,g as b,A as N,c as n,a,f as h,b as t,t as w,l as d,z as S,o as i}from"./index-DTmEoMLP.js";import{u as T,P as x}from"./PlaylistCard-BFZCcWWa.js";import{_ as B}from"./TrackList-DdOuk0bv.js";/* empty css                                                                     */const D={class:"playlist-detail"},q={key:0,class:"loading-state"},C={key:1,class:"error-state"},E={key:2,class:"playlist-content"},F={class:"playlist-info"},Q={key:0,class:"songs-section"},V={key:1,class:"no-songs"},$={key:3,class:"no-playlist"},A={__name:"PlaylistDetail",setup(I){const u=N(),y=S(),e=b(),g=u.params.id,{playlist:o,isLoading:p,error:r,refetch:c}=T(g),f=async()=>{const l=o.value?.songs||[];if(l.length!==0)try{const s=l[0];e.isPlaying&&e.currentTrack?.id===s.id?await e.togglePlay():await e.playSong(s,l)}catch(s){console.error("Failed to play playlist:",s)}},_=async l=>{try{const s=o.value?.songs||[];l&&s.length?e.isPlaying&&e.currentTrack?.id===l.song_id?await e.togglePlay():await e.playSong(l,s):r.value="No song available to play."}catch(s){r.value="Failed to play song.",console.error("Error playing song:",s)}},k=async l=>{try{l?await e.addToQueue(l):r.value="No song to add to queue."}catch(s){r.value="Failed to add song to queue.",console.error("Error adding to queue:",s)}},m=()=>{y.back()};return(l,s)=>(i(),n("div",D,[a("div",{class:"detail-header"},[a("button",{class:"back-btn",onClick:m},s[1]||(s[1]=[a("i",{class:"fas fa-arrow-left"},null,-1),h(" Back ")])),s[2]||(s[2]=a("h1",{class:"detail-title"},"Playlist Details",-1))]),t(p)?(i(),n("div",q,s[3]||(s[3]=[a("div",{class:"spinner"},null,-1),a("p",null,"Loading playlist...",-1)]))):t(r)?(i(),n("div",C,[s[4]||(s[4]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("p",null,w(t(r).message),1),a("button",{onClick:s[0]||(s[0]=(...v)=>t(c)&&t(c)(...v)),class:"retry-btn"},"Try Again")])):t(o)?(i(),n("div",E,[a("div",F,[d(x,{id:t(o).playlist_id,title:t(o).name,image:t(o).image,description:`${t(o).song_count} song${t(o).song_count!==1?"s":""}`,onPlay:f},null,8,["id","title","image","description"])]),t(o).songs?.length?(i(),n("section",Q,[s[5]||(s[5]=a("h3",{class:"section-title"},"Songs",-1)),d(B,{tracks:t(o).songs,onPlay:_,onQueue:k},null,8,["tracks"])])):(i(),n("p",V,"No songs in this playlist."))])):(i(),n("div",$,s[6]||(s[6]=[a("p",null,"No playlist found.",-1)])))]))}},G=P(A,[["__scopeId","data-v-6e5191e2"]]);export{G as default};
